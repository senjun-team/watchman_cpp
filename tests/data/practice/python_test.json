{
  "project_contents": "{\"name\":\"project\",\"children\":[{\"name\":\"calc.py\",\"contents\":\"\\\"\\\"\\\"\\nЭтот файл должен содержать:\\n- Функцию calc(raw_expression).\\n- Любые вспомогательные функции.\\n\\\"\\\"\\\"\\n\\n\\ndef calc(raw_expression):\\n    ...\\n\\n\\nif __name__ == \\\"__main__\\\":\\n    expressions = [\\n        \\\"2+3\\\",              # 5\\n        \\\"1-2*3\\\",            # -5\\n        \\\"(1-2)*3\\\",          # -3\\n        \\\"(1+(2/2))-(3-5)\\\",  # 4\\n        \\\"1/2-1/2\\\"           # 0\\n    ]\\n\\n    for expr in expressions:\\n        print(f\\\"{expr} = {calc(expr)}\\\")\\n\",\"is_main_file\":true,\"id\":2},{\"name\":\"test_calc.py\",\"contents\":\"import unittest\\n\\nfrom calc import calc\\n\\n\\nclass TestCalculator(unittest.TestCase):\\n    def run_test_cases(self, cases):\\n        for raw_expression, res_plan, case_name in cases:\\n            with self.subTest(case_name):\\n                res_fact = calc(raw_expression)\\n                if res_plan is None:\\n                    self.assertIs(res_fact, None)\\n                else:\\n                    self.assertAlmostEqual(res_plan, res_fact)\\n\\n    def test_integer_numbers(self):\\n        cases = (\\n            [\\\"0\\\", 0, \\\"zero\\\"],\\n            [\\\"8\\\", 8, \\\"non-zero single-digit integer number\\\"],\\n            [\\\"12\\\", 12, \\\"many-digit integer number\\\"],\\n            [\\\"0123\\\", 123, \\\"many-digit int number starting with zero\\\"],\\n            [\\\"008\\\", 8, \\\"several-digit number at the beginning\\\"],\\n            [\\\"9876543210\\\", 9876543210, \\\"long integer number\\\"],\\n            [\\\"a5\\\", None, \\\"non-digit at the beginning\\\"],\\n            [\\\"5$\\\", None, \\\"non-digit at the end\\\"],\\n            [\\\"1_2\\\", None, \\\"non-digit in the middle\\\"],\\n            [\\\"a\\\", None, \\\"not a digit\\\"],\\n            [\\\"abc\\\", None, \\\"several non-digits\\\"],\\n            [\\\"-5\\\", None, \\\"negative number\\\"],\\n            [\\\"+5\\\", None, \\\"unary plus\\\"],\\n        )\\n\\n        self.run_test_cases(cases)\\n\\n    def test_floating_point_numbers(self):\\n        cases = (\\n            [\\\"1.\\\", 1, \\\"floating-point without the fractional part\\\"],\\n            [\\\".1\\\", None, \\\"floating-point without integer part\\\"],\\n            [\\\"1.2\\\", 1.2, \\\"floating-point with integer and fractional parts\\\"],\\n            [\\n                \\\"0.1\\\",\\n                0.1,\\n                \\\"floating-point with 0 integer and non-zero fractional part\\\",\\n            ],\\n            [\\\"00.1\\\", 0.1, \\\"floating-point with leading zeroes\\\"],\\n            [\\\"1.1000\\\", 1.1, \\\"floating-point with trailing zeroes\\\"],\\n            [\\\"1.a\\\", None, \\\"floating-point with letter in fractional part\\\"],\\n            [\\\"1.2e+3\\\", None, \\\"exponential representation\\\"],\\n            [\\\"1.2.3\\\", None, \\\"floating-point with 2 dots\\\"],\\n        )\\n\\n        self.run_test_cases(cases)\\n\\n    def test_operators(self):\\n        cases = (\\n            [\\\"1+2\\\", 3, \\\"expression with single +\\\"],\\n            [\\\"1+22+333\\\", 356, \\\"expression with chain of + operators\\\"],\\n            [\\\"9-11\\\", -2, \\\"expression with single - and negative result\\\"],\\n            [\\\"11-9\\\", 2, \\\"expression with single - and positive result\\\"],\\n            [\\n                \\\"58-304-0\\\",\\n                -246,\\n                \\\"expression with chain of - operators (with 0)\\\",\\n            ],\\n            [\\\"9-1-1-0.5-1.5\\\", 5, \\\"expression with chain of - operators\\\"],\\n            [\\\"3*11\\\", 33, \\\"expression with single *\\\"],\\n            [\\n                \\\"2*9*100*7\\\",\\n                12600,\\n                \\\"expression with chain of * operators (integers only)\\\",\\n            ],\\n            [\\n                \\\"2.0*9.0*100.0*7.0\\\",\\n                12600,\\n                \\\"expression with chain of * operators (floating-points only)\\\",\\n            ],\\n            [\\\"49/7\\\", 7, \\\"expression with single /\\\"],\\n            [\\\"28/2/2/2\\\", 3.5, \\\"expression with chain of / operators\\\"],\\n            [\\n                \\\"8/4/2\\\",\\n                1,\\n                \\\"expression with chain of / operators and integer result\\\",\\n            ],\\n            [\\\"5/0.5\\\", 10, \\\"expression with / operator and floating-point\\\"],\\n        )\\n\\n        self.run_test_cases(cases)\\n\\n    def test_operators_priority(self):\\n        cases = (\\n            [\\\"2+5-1\\\", 6, \\\"operators with equal priority: +, -\\\"],\\n            [\\\"2-5+1\\\", -2, \\\"operators with equal priority: -, +\\\"],\\n            [\\\"4*2*3/11\\\", 2.18181818, \\\"operators with equal priority: *, /\\\"],\\n            [\\\"4/2/3*11\\\", 7.33333333, \\\"operators with equal priority: /, *\\\"],\\n            [\\\"3-9+8*2\\\", 10, \\\"operators with mixed priority: -, +, *\\\"],\\n            [\\\"44*150-45/5\\\", 6591, \\\"operators with mixed priority: *, -, /\\\"],\\n            [\\n                \\\"6+400/500-1*1\\\",\\n                5.8,\\n                \\\"operators with mixed priority: +, /, -, *\\\",\\n            ],\\n            [\\\"1/2-1/2\\\", 0, \\\"operations with mixed priority: /, -, /\\\"],\\n            [\\\"15+2*6-8\\\", 19, \\\"operations with mixed priority: +, *, -\\\"],\\n            [\\n                \\\"2-503*8+1/7\\\",\\n                -4021.85714286,\\n                \\\"operations with mixed priority: -, *, +, /\\\",\\n            ],\\n            [\\n                \\\"5*2-6/3+5-7-9*0\\\",\\n                6,\\n                \\\"operators with mixed priority and 0 multipliplication\\\",\\n            ],\\n        )\\n\\n        self.run_test_cases(cases)\\n\\n    def test_parenthesis(self):\\n        cases = (\\n            [\\\"()\\\", None, \\\"empty parenthesis\\\"],\\n            [\\\")()\\\", None, \\\"empty invalid parenthesis\\\"],\\n            [\\\"(45.7)\\\", 45.7, \\\"parenthesis with single number\\\"],\\n            [\\\"(1)+(2)\\\", 3, \\\"numbers with parenthesis\\\"],\\n            [\\\"((62))\\\", 62, \\\"nested parenthesis with single number\\\"],\\n            [\\\"(1+5.6)\\\", 6.6, \\\"expression in parenthesis\\\"],\\n            [\\\"(8+2*5)/(1+3*2-4)\\\", 6, \\\"2 expressions in parenthesis\\\"],\\n            [\\\"3+4*2/(1-5)*2\\\", -1, \\\"expression in parenthesis (in dividor)\\\"],\\n            [\\\"(1-2)*3\\\", -3, \\\"priority of - operator in parenthesis\\\"],\\n            [\\n                \\\"(1+(2/2))-(3-5)\\\",\\n                4,\\n                \\\"priority of / and - operators in parenthesis\\\",\\n            ],\\n            [\\n                \\\"(2-503)*8.0+1/7\\\",\\n                -4007.85714286,\\n                \\\"parenthesis around 1st operator\\\",\\n            ],\\n            [\\n                \\\"2-(503*8)+1.0/7\\\",\\n                -4021.85714286,\\n                \\\"parenthesis around 2nd operator\\\",\\n            ],\\n            [\\n                \\\"2.0-503*(8+1)/7\\\",\\n                -644.714285714,\\n                \\\"parenthesis around 3rd operator\\\",\\n            ],\\n            [\\n                \\\"2-503.0*8+(1/7)\\\",\\n                -4021.85714286,\\n                \\\"parenthesis around 4th operator\\\",\\n            ],\\n            [\\\"((2-503)*8+1)/7\\\", -572.428571429, \\\"nested parenthesis\\\"],\\n            [\\n                \\\"(((2)-((503)))*8+1)/(7)\\\",\\n                -572.428571429,\\n                \\\"redundant parenthesis\\\",\\n            ],\\n        )\\n\\n        self.run_test_cases(cases)\\n\\n    def test_simple_invalid_expressions(self):\\n        cases = (\\n            [\\\"\\\", None, \\\"empty string\\\"],\\n            [\\\"a+b\\\", None, \\\"invalid characters\\\"],\\n            [\\\"*\\\", None, \\\"operator-only\\\"],\\n            [\\\"/*\\\", None, \\\"two operators without numbers\\\"],\\n            [\\\"67--\\\", None, \\\"incorrect placement of - operators\\\"],\\n            [\\\"5+-2\\\", None, \\\"incorrect placement of +, - operators\\\"],\\n        )\\n\\n        self.run_test_cases(cases)\\n\\n    def test_long_correct_expressions(self):\\n        cases = (\\n            [\\n                \\\"15/(7-(1+1))*3-(2+(1+1))*15/(7-(200+1))*3-(2+(0.5+1.5))*(15/(7-(1+1))*3-(2+(1+1))+15/(7-(1+1))*3-(2+(1+1)))\\\",\\n                -30.0721649485,\\n                \\\"long expression with parenthesis\\\",\\n            ],\\n        )\\n\\n        self.run_test_cases(cases)\\n\",\"id\":3}],\"id\":1}",
  "project_id": "python_calculator",
  "course_id": "python",
  "user_cmd_line_args": "",
  "action": "test"
}